syntax = "proto3";

message RegionExtension {
  int32 regionId = 1;
}

message BirthdayExtension {
  int64 birthday = 1;
}

message VAGNumberExtension {
  string vag_number = 1;
}

enum BavariaCardType {
  STANDARD = 0;
  GOLD = 1;
}

message BavariaCardTypeExtension {
  BavariaCardType card_type = 1;
}

message Expiration {
  int64 date = 1;
}

message CardExtensions {
  optional RegionExtension extension_region = 1;
  optional BirthdayExtension extension_birthday = 2;
  optional VAGNumberExtension extension_vag_number = 3;
  optional BavariaCardTypeExtension extension_bavaria_card_type = 4;
}

message CardInfo {
  // Basic information
  string fullName = 1;
  optional Expiration expiration = 2;

  // Extensions
  optional CardExtensions extensions = 3;
}

message CardActivationCode {
  CardInfo info = 1;
  bytes hash_secret = 2;
  bytes totp_secret = 3;
}

message CardVerifyCode {
  CardInfo info = 1;
  bytes hashSecret = 2;
  int32 otp = 3;
}

